{% if request.page_type != 'index' %}
<nav class="breadcrumb" aria-label="Breadcrumb">
  <ol class="breadcrumb__list">
    <li class="breadcrumb__item">
      <a href="{{ routes.root_url }}">Home</a>
    </li>

    {% case request.page_type %}
      {% when 'collection' %}
        <li class="breadcrumb__item breadcrumb__item--current" aria-current="page">
          {{ collection.title }}
        </li>

      {% when 'product' %}
        {% if collection %}
          <li class="breadcrumb__item">
            <a href="{{ collection.url }}">{{ collection.title }}</a>
          </li>
        {% endif %}
        <li class="breadcrumb__item breadcrumb__item--current" aria-current="page">
          {{ product.title }}
        </li>

      {% when 'page' %}
        <li class="breadcrumb__item breadcrumb__item--current" aria-current="page">
          {{ page.title }}
        </li>

      {% when 'blog' %}
        <li class="breadcrumb__item breadcrumb__item--current" aria-current="page">
          {{ blog.title }}
        </li>

      {% when 'article' %}
        <li class="breadcrumb__item">
          <a href="{{ blog.url }}">{{ blog.title }}</a>
        </li>
        <li class="breadcrumb__item breadcrumb__item--current" aria-current="page">
          {{ article.title }}
        </li>
    {% endcase %}
  </ol>
</nav>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{{ shop.url }}"
    }
    {% case request.page_type %}
      {% when 'collection' %}
        ,{
          "@type": "ListItem",
          "position": 2,
          "name": {{ collection.title | json }},
          "item": "{{ shop.url }}{{ collection.url }}"
        }

      {% when 'product' %}
        {% if collection %}
          ,{
            "@type": "ListItem",
            "position": 2,
            "name": {{ collection.title | json }},
            "item": "{{ shop.url }}{{ collection.url }}"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": {{ product.title | json }},
            "item": "{{ shop.url }}{{ product.url }}"
          }
        {% else %}
          ,{
            "@type": "ListItem",
            "position": 2,
            "name": {{ product.title | json }},
            "item": "{{ shop.url }}{{ product.url }}"
          }
        {% endif %}

      {% when 'page' %}
        ,{
          "@type": "ListItem",
          "position": 2,
          "name": {{ page.title | json }},
          "item": "{{ shop.url }}{{ page.url }}"
        }

      {% when 'article' %}
        ,{
          "@type": "ListItem",
          "position": 2,
          "name": {{ blog.title | json }},
          "item": "{{ shop.url }}{{ blog.url }}"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": {{ article.title | json }},
          "item": "{{ shop.url }}{{ article.url }}"
        }
    {% endcase %}
  ]
}
</script>
{% endif %}
